# 版本管理

**分支规范：**

日常开发分支：daily/x.xx.xx

上线发布分支：publish/x.xx.xx

**版本号管理：**

第一个x：项目大版本更新使用，涉及前端架构，样式重构等，递增此版本位

第二个xx：日常版本更新，迭代使用，涉及需求更新日常bug修复，sprint 版本迭代相关，递增此版本位

第三个xx：bug 修复使用，上线后紧急问题修复，日常紧急问题修复，递增此版本位

**发布流程：**

日常开发提交 daily/x.xx.xx 分支更新（多个项目组协同开发同一个项目时，发布日常前，需要合并主干分支代码）

上线发布提交 publish/x.xx.xx 分支更新，上线发布需要打 tag，tag 命名同上线分支 publish 版本号，上线发布成功后，删除对应的日常分支。

**维护文档：**

对应项目下建立分支管理 issue，记录日常开发版本号，描述，负责人，日期（提测日期或发布日期）及发布状态等。

实例：

大版本号：

| 版本号 | 描述 | 拥有者 | 发布日期 | 发布状态 |
| :--- | :--- | :--- | :--- | :--- |
| daily/1.0.0 | V1版开发 | 张三 | 2017-05-09 | `Yes` |

小版本号：

| 版本号 | 描述 | 拥有者 | 发布日期 | 发布状态 |
| :--- | :--- | :--- | :--- | :--- |
| daily/1.0.1 | 线上 bug 修复 | 李四 | 2017-05-19 | `Yes` |
| daily/1.1.0 | 小需求更新 | 张三 | 2017-05-17 | `No` |

**自动化发布：**

日常测试环境自动发布，读取 daily/x.xx.xx 提交更新，匹配是否需要合并主干，有则提示需要合并主干，发布失败，没有则自动发布替换资源。

线上环境自动发布，读取 tag 更新，上线发布需打对应 publish 分支的 tag，读取 tag，匹配是否需要合并主干，有则提示需要合并主干，发布失败，没有则自动发布替换资源。

